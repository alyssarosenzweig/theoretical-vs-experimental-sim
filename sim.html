<h1> Theoretical vs Experimental Probability Simulator </h1>

<script src="Experiment.js"></script>
<script src="Chart.min.js"></script>

<script>
var e = new Experiment;
e.run = function() { return (Math.random() > 0.5) ? 1 : 0 }
e.expected = function() { return 0.5; }
e.trials = 1000;

var deviance, devianceData;

window.onload = function() {
	devianceData = {
		labels: [0, 0],
		datasets: [{
			fillColor: "rgba(220,220,220,0.2)",
            strokeColor: "rgba(220,220,220,1)",
            pointColor: "rgba(220,220,220,1)",
            pointStrokeColor: "#fff",
            pointHighlightFill: "#fff",
            pointHighlightStroke: "rgba(220,220,220,1)",
            data: [0, 0]
		}]
	}

	deviance = new Chart(
		document.getElementById("deviance").getContext('2d')
		).Line(devianceData);

	var nTime = 40;

	var b = setInterval(function() {
		e.iterateRun(nTime);
		deviance.addData([e.deviance()], e.iterations);
		deviance.update();
		if(e.isDone()) {
			clearInterval(b);
		}
		//document.getElementById("deviance").innerHTML = e.deviance();
	}, 10);
}

</script>

<h2>Deviance:</h2> <br/> <canvas id="deviance" width="400" height="400"></canvas>